<!doctype html>
<html class="no-js" lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>
    
    Windows10 安装 HomeAssistant - 十
    
  </title>
  <meta name="description" content="">
  <link href="atom.xml" rel="alternate" title="十" type="application/atom+xml">
  <link rel="stylesheet" href="asset/css/foundation.min.css" />
  <link rel="stylesheet" href="asset/css/docs.css" />
  <script src="asset/js/vendor/modernizr.js"></script>
  <script src="asset/js/vendor/jquery.js"></script>
  <script src="asset/highlightjs/highlight.pack.js"></script>
  <link href="asset/highlightjs/styles/github.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script>
    hljs.initHighlightingOnLoad();
  </script>
</head>

<body class="antialiased hide-extras">
  <div class="marketing off-canvas-wrap" data-offcanvas>
    <div class="inner-wrap">
      <nav class="top-bar docs-bar hide-for-small" data-topbar>
        <div id="header">
          <h3><a href="index.html">十的对称 十的完美</a></h1>
        </div>
      </nav>
      <nav class="tab-bar show-for-small">
        <a href="javascript:void(0)" class="left-off-canvas-toggle menu-icon">
          <span> &nbsp;</span>
        </a>
        <div id="header">
          <h3><a href="index.html">十的对称 十的完美</a></h1>
        </div>
      </nav>
      <aside class="left-off-canvas-menu">
        <ul class="off-canvas-list">
          <li><a href="index.html">关于我</a></li>
          
          <li class="divider"></li>
          <li><label>HomeAssistant</label></li>
          
          <li><a title="Ubuntu 20.04Lts 安装 HA" href="16201149334405.html">Ubuntu 20.04Lts 安装 HA</a></li>
          
          <li><a title="Windows10 安装 HomeAssistant" href="16200327308578.html">Windows10 安装 HomeAssistant</a></li>
          
          
          <li class="divider"></li>
          <li><label>TypeScript</label></li>
          
          <li><a title="TypeScript" href="16203819997302.html">TypeScript</a></li>
          
          
          <li class="divider"></li>
          <li><label>Managing Complexity</label></li>
          
          <li><a title="Managing Complexity" href="16203822077854.html">Managing Complexity</a></li>
          
          
          <li class="divider"></li>
          <li><label>Angular</label></li>
          
          <li><a title="Angular 中 RXJS 的应用" href="16178761821381.html">Angular 中 RXJS 的应用</a></li>
          
          <li><a title="ng-fundamentals 基础内容查缺补漏" href="16175910817779.html">ng-fundamentals 基础内容查缺补漏</a></li>
          
          <li><a title="Angular 中的 DI" href="16166681233612.html">Angular 中的 DI</a></li>
          
          <li><a title="Angular 变更检测——它到底是如何工作的？" href="16164996860696.html">Angular 变更检测——它到底是如何工作的？</a></li>
          
          
          <li class="divider"></li>
          <li><label>JavaScript</label></li>
          
          <li><a title="States and Fates" href="16129618605374.html">States and Fates</a></li>
          
          <li><a title="JavaScript 深浅拷贝" href="16124460113427.html">JavaScript 深浅拷贝</a></li>
          
          <li><a title="通过函数声明和调用掌握函数的 this 值" href="16107633205948.html">通过函数声明和调用掌握函数的 this 值</a></li>
          
          <li><a title="通过变量作用域深入了解 undefined" href="16088182648987.html">通过变量作用域深入了解 undefined</a></li>
          
          <li><a title="JavaScript 原型和原型链" href="16080322533005.html">JavaScript 原型和原型链</a></li>
          
          
          <li class="divider"></li>
          <li><label>JavaScript权威指南第七版</label></li>
          
          <li><a title="第 6 章 对象" href="16113218396407.html">第 6 章 对象</a></li>
          
          <li><a title="第 7 章 数组" href="16124375850406.html">第 7 章 数组</a></li>
          
          <li><a title="第 8 章 函数" href="16106664265983.html">第 8 章 函数</a></li>
          
          <li><a title="第 9 章 类" href="16118386693796.html">第 9 章 类</a></li>
          
          <li><a title="第 10 章 模块" href="16130963383709.html">第 10 章 模块</a></li>
          
          <li><a title="第 12 章 迭代器和生成器" href="16135261093456.html">第 12 章 迭代器和生成器</a></li>
          
          <li><a title="第 13 章 异步 JavaScript" href="16130963623880.html">第 13 章 异步 JavaScript</a></li>
          
          
        </ul>
      </aside>
      <a class="exit-off-canvas" href="#"></a>
      <section id="main-content" role="main" class="scroll-container">
        <div class="row">
          <div class="large-9 medium-9 columns">
  <div class="markdown-body">
  <div class="markdown-inside">
    <h1>Windows10 安装 HomeAssistant</h1>
    <time class="article-date" datetime="2021-05-03T17:05:30+08:00">发布于2021/05/03</time>
    <p>一直想动手的智能家居终于开始啦。<br/>
家庭使用 SMB，用的 win10 做 service，因此直接在 win10 上进行安装，方便系统备份。</p>

<h2 id="toc_0">安装排雷</h2>

<p>这里还不会 python，不知道解决原因。</p>

<h3 id="toc_1">python 环境安装</h3>

<p><a href="https://www.python.org/downloads/">python 下载</a><br/>
注意安装时添加环境变量。</p>

<h3 id="toc_2">HomeAssistant 安装</h3>

<p><code>pip3 install homeassistant</code></p>

<p>报错：</p>

<pre><code class="language-text">Microsoft Visual C++ 14.0 is required
</code></pre>

<p>下载 <a href="https://visualstudio.microsoft.com/zh-hans/visual-cpp-build-tools/">C++ 生成工具</a>，并安装默认选中所有内容——4G+。</p>

<p>再次报错：</p>

<pre><code class="language-text">ERROR: After October 2020 you may experience errors when installing or updating package
s. This is because pip will change the way that it resolves dependency conflicts. 

We recommend you use --use-feature=2020-resolver to test your packages with the new res
olver before it becomes the default.
</code></pre>

<p>好的这回解决办法都告诉了，执行：<br/>
<code>pip3 install homeassistant --use-feature=2020-resolver</code></p>

<p>安装成功！</p>

<h2 id="toc_3">HomeAssistant 启动</h2>

<h3 id="toc_4">安装 HomeAssistant Frontend</h3>

<p><code>pip3 install home-assistant-frontend</code></p>

<h3 id="toc_5">启动并设置开机启动</h3>

<p><code>py -m homeassistant --open-ui</code></p>

<h2 id="toc_6">排除警告和错误</h2>

<p>在配置的日志中查看异常。</p>

<h3 id="toc_7">警告</h3>

<pre><code class="language-text">WARNING (MainThread) [scapy.runtime] No libpcap provider available ! pcap won&#39;t be used
</code></pre>

<p><a href="https://www.winpcap.org/install/default.htm">winpcap</a> 代替 Linux 的 libpcap。<br/>
安装后：</p>

<pre><code class="language-text">WARNING (MainThread) [scapy.runtime] WinPcap is now deprecated (not maintained). Please use Npcap instead
</code></pre>

<p>又要使用 <a href="https://nmap.org/npcap/#download">Npcap</a> 替代，关闭服务卸载 Winpcap 后安装并重新启动服务。</p>

<h3 id="toc_8">错误</h3>

<pre><code class="language-text">Unable to install package PyNaCl==1.3.0: ERROR: Command errored out with exit status 1: command:
</code></pre>

<p>解决方案：<br/>
<code>pip uninstall typing</code><br/>
<code>pip install pynacl==1.3.0</code></p>

<pre><code class="language-text">ERROR: Could not build wheels for pynacl which use PEP 517 and cannot be installed directly
</code></pre>

<p><code>pip install pep517</code></p>

<h3 id="toc_9">手机 App</h3>

<p>手机 app 无法登陆，提示：</p>

<blockquote>
<p>未加载 mobile_app 组件。请将其添加到您的配置中，重新启动 Home Assistant，然后重试。</p>
</blockquote>

<p>进入系统发现提示配置 mobile_app：<a href="https://www.home-assistant.io/integrations/mobile_app">DOC 路径</a></p>

<h3 id="toc_10">无法安装 HACS 换 linux</h3>

  </div>
</div>
<br /><br />
<hr />
<div class="row clearfix">
  <div class="large-6 columns">
    <div class="text-left" style="padding:15px 0px;">
      
      <a href="16201149334405.html" title="Previous Post: Ubuntu 20.04Lts 安装 HA">&laquo;
        Ubuntu 20.04Lts 安装 HA</a>
      
    </div>
  </div>
  <div class="large-6 columns">
    <div class="text-right" style="padding:15px 0px;">
      
      <a href="16178761821381.html" title="Next Post: Angular 中 RXJS 的应用">Angular 中 RXJS 的应用 &raquo;</a>
      
    </div>
  </div>
</div>
<div class="row">
  <div style="padding:0px 0.93em;" class="share-comments">
    
  </div>
</div>
<script type="text/javascript">
  $(function () {
    var currentURL = '16200327308578.html';
    $('#side-nav a').each(function () {
      if ($(this).attr('href') == currentURL) {
        $(this).parent().addClass('active');
      }
    });
  });
</script>  
          </div>
          <div class="large-3 medium-3 columns">
            <div class="hide-for-small">
              <div class="sidebar">
                <nav>
                  <ul id="side-nav" class="side-nav">
                    
                    <li class="side-title"><span>HomeAssistant</span></li>
                    
                    <li>
                      <a title="Ubuntu 20.04Lts 安装 HA" href="16201149334405.html">Ubuntu 20.04Lts 安装 HA</a>
                    </li>
                    
                    <li>
                      <a title="Windows10 安装 HomeAssistant" href="16200327308578.html">Windows10 安装 HomeAssistant</a>
                    </li>
                    
                    
                    <li class="side-title"><span>TypeScript</span></li>
                    
                    <li>
                      <a title="TypeScript" href="16203819997302.html">TypeScript</a>
                    </li>
                    
                    
                    <li class="side-title"><span>Managing Complexity</span></li>
                    
                    <li>
                      <a title="Managing Complexity" href="16203822077854.html">Managing Complexity</a>
                    </li>
                    
                    
                    <li class="side-title"><span>Angular</span></li>
                    
                    <li>
                      <a title="Angular 中 RXJS 的应用" href="16178761821381.html">Angular 中 RXJS 的应用</a>
                    </li>
                    
                    <li>
                      <a title="ng-fundamentals 基础内容查缺补漏" href="16175910817779.html">ng-fundamentals 基础内容查缺补漏</a>
                    </li>
                    
                    <li>
                      <a title="Angular 中的 DI" href="16166681233612.html">Angular 中的 DI</a>
                    </li>
                    
                    <li>
                      <a title="Angular 变更检测——它到底是如何工作的？" href="16164996860696.html">Angular 变更检测——它到底是如何工作的？</a>
                    </li>
                    
                    
                    <li class="side-title"><span>JavaScript</span></li>
                    
                    <li>
                      <a title="States and Fates" href="16129618605374.html">States and Fates</a>
                    </li>
                    
                    <li>
                      <a title="JavaScript 深浅拷贝" href="16124460113427.html">JavaScript 深浅拷贝</a>
                    </li>
                    
                    <li>
                      <a title="通过函数声明和调用掌握函数的 this 值" href="16107633205948.html">通过函数声明和调用掌握函数的 this 值</a>
                    </li>
                    
                    <li>
                      <a title="通过变量作用域深入了解 undefined" href="16088182648987.html">通过变量作用域深入了解 undefined</a>
                    </li>
                    
                    <li>
                      <a title="JavaScript 原型和原型链" href="16080322533005.html">JavaScript 原型和原型链</a>
                    </li>
                    
                    
                    <li class="side-title"><span>JavaScript权威指南第七版</span></li>
                    
                    <li>
                      <a title="第 6 章 对象" href="16113218396407.html">第 6 章 对象</a>
                    </li>
                    
                    <li>
                      <a title="第 7 章 数组" href="16124375850406.html">第 7 章 数组</a>
                    </li>
                    
                    <li>
                      <a title="第 8 章 函数" href="16106664265983.html">第 8 章 函数</a>
                    </li>
                    
                    <li>
                      <a title="第 9 章 类" href="16118386693796.html">第 9 章 类</a>
                    </li>
                    
                    <li>
                      <a title="第 10 章 模块" href="16130963383709.html">第 10 章 模块</a>
                    </li>
                    
                    <li>
                      <a title="第 12 章 迭代器和生成器" href="16135261093456.html">第 12 章 迭代器和生成器</a>
                    </li>
                    
                    <li>
                      <a title="第 13 章 异步 JavaScript" href="16130963623880.html">第 13 章 异步 JavaScript</a>
                    </li>
                    
                    
                  </ul>
                </nav>
              </div>
            </div>
          </div>
        </div>
        <div class="page-bottom">
          <div class="row">
            <hr />
            <div class="small-9 columns">
              <p class="copyright">Contact Me&nbsp;
                Tel: +86 18641188786,&nbsp;
                mail: li.tw.ten@gmail.com</p>
            </div>
            <div class="small-3 columns">
              <p class="copyright text-right"><a href="#top">TOP</a></p>
            </div>
          </div>
        </div>
      </section>
    </div>
  </div>
  <script src="asset/js/foundation.min.js"></script>
  <script src="asset/js/foundation/foundation.offcanvas.js"></script>
  <script>
    $(document).foundation();
  </script>
  
  
  
</body>

</html>